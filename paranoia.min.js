!function(){var a=['<svg width="50" height="50" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">'," <g>",'  <circle name="eye"   fill="#ffffff" stroke="#000000" stroke-width="5" cx="60" cy="60" r="50" />','  <circle name="apple" fill="#000000" stroke="#000000" stroke-width="5" stroke-linejoin="null" stroke-linecap="null" cx="80" cy="60" r="12"/>'," </g>","</svg>"].join(""),b=['<svg width="50" height="50" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">'," <g>",'  <path name="top" stroke-width="5" stroke="#000000" fill="yellow" d="m60,10a50,50 0 1 0 0,0"/>'," </g>","</svg>"].join(""),c=['<svg width="50" height="50" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">'," <g>",'  <path name="bottom" stroke-width="5" stroke="#000000" fill="yellow" d="m60,10a50,50 0 1 0 0,0"/>'," </g>","</svg>"].join(""),d=function(a,b){if(this.iamageSelector=a,this._element=document.querySelector(a),!this._element)throw new Error("Not valid image selector");this.options={x:0,y:0,size:50,appleSize:12,color:"#FFFFFF",emoteColor:"white"};for(var c in b)this.options[c]=b[c];this._build()};d.prototype._build=function(){for(this.cloneEyeObject=ParanoiaJS._cloneTemplate(),this.svgElements=this.cloneEyeObject.querySelectorAll("svg"),this.eyeElement=this.cloneEyeObject.querySelector("[name=eye]"),this.appleElement=this.cloneEyeObject.querySelector("[name=apple]"),this.topElement=this.cloneEyeObject.querySelector("[name=top]"),this.bottomElement=this.cloneEyeObject.querySelector("[name=bottom]"),i=0;i<this.svgElements.length;i++)this.svgElements[i].setAttribute("width",this.options.size),this.svgElements[i].setAttribute("height",this.options.size);this.eyeElement.setAttribute("fill",this.options.color),this.topElement.setAttribute("fill",this.options.emoteColor),this.bottomElement.setAttribute("fill",this.options.emoteColor),this.appleElement.setAttribute("r",this.options.appleSize),document.body.appendChild(this.cloneEyeObject),this.moveToPosition(),this.cloneEyeObject.style.display="block"},d.prototype.moveToPosition=function(){this.move(this.options.x,this.options.y)},d.prototype.suspicion=function(a,b){console.clear();var c=1e3,d=this.eyeElement.getBoundingClientRect(),e=d.left+d.width/2,f=d.top+d.height/2,g=Math.pow(Math.pow(e-a,2)+Math.pow(f-b,2),.5),h=Math.PI/2;if(c>=g)var h=Math.PI/2-7*(1-g/c)*Math.PI/18;var i=60+50*Math.cos(-h),j=60+50*Math.sin(-h),k=i-60,l=60+(60-j),m="m"+i+","+j+"a50,50 1 0 0 "+2*-k+",0z";this.topElement.setAttribute("d",m);var n="m"+i+","+l+"a50,50 1 0 1 "+2*-k+",0z";this.bottomElement.setAttribute("d",n)},d.prototype.move=function(a,b){var c=this._element.getBoundingClientRect();this.cloneEyeObject.style.position="absolute",this.cloneEyeObject.style.left=c.left+a+"px",this.cloneEyeObject.style.top=c.top+b+"px"},d.prototype.render=function(a,b){var c=this.cloneEyeObject.getBoundingClientRect(),d=c.left+c.width/2,e=c.top+c.height/2,f=Math.atan2(b-e,a-d)*(180/Math.PI);this.appleElement.setAttribute("transform","rotate("+f+", 60, 60)")},window.ParanoiaJS=new function(){var e=this;this._eyes=[],this.isInitialized=!1,this._listen=function(){window.addEventListener("mousemove",function(a){e._renderEyes(a.x,a.y)},!1),window.addEventListener("resize",function(a){e._resize()},!1)},this.add=function(a,b){e.isInitialized||e._init();var c=new d(a,b);return this._eyes.push(c),c._element.addEventListener("load",function(){e._resize()},!1),c},this.render=function(){e._resize()},this._renderEyes=function(a,b){for(var c in e._eyes)e._eyes[c].render(a,b),e._eyes[c].suspicion(a,b)},this._resize=function(){for(var a in e._eyes)e._eyes[a].moveToPosition()},this._init=function(d){e.templateObject=document.createElement("object"),e.templateObject.style.display="none",e.templateObject.style.position="absolute";var f=document.createElement("object");f.style.position="absolute",f.innerHTML=a,e.templateObject.appendChild(f);var g=document.createElement("div");g.className+=g.className?" top":"top",g.style.position="absolute",g.innerHTML=b,e.templateObject.appendChild(g);var h=document.createElement("div");h.className+=h.className?" bottom":"bottom",h.style.position="absolute",h.innerHTML=c,e.templateObject.appendChild(h),document.body.appendChild(e.templateObject),e._listen(),e.isInitialized=!0},this._cloneTemplate=function(){return e.templateObject.cloneNode(!0)}}}();