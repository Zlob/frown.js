!function(){var a=['<svg width="50" height="50" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">'," <g>",'  <circle name="eye"   fill="#ffffff" stroke="#000000" stroke-width="5" cx="60" cy="60" r="50" />','  <circle name="eyeball" fill="#000000" stroke="#000000" stroke-width="5" stroke-linejoin="null" stroke-linecap="null" cx="60" cy="60" r="12"/>'," </g>","</svg>"].join(""),b=['<svg width="50" height="50" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">'," <g>",'  <path name="top" stroke-width="5" stroke="#000000" fill="yellow" d="m60,10a50,50 0 1 0 0,0"/>'," </g>","</svg>"].join(""),c=['<svg width="50" height="50" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">'," <g>",'  <path name="bottom" stroke-width="5" stroke="#000000" fill="yellow" d="m60,10a50,50 0 1 0 0,0"/>'," </g>","</svg>"].join(""),d=function(a,b){if(this.iamageSelector=a,this._element=document.querySelector(a),!this._element)throw new Error("Not valid image selector");this.options={x:0,y:0,size:50,color:"#FFFFFF",borderColor:"#000000",borderSize:"5",eyeballSize:12,eyeballShift:20,emoteColor:"white",emoteSize:.75,emoteBorderColor:"#000000",emoteBorderSize:"5"};for(var c in b)this.options[c]=b[c];this._build()};d.prototype._build=function(){for(this.cloneEyeObject=ParanoiaJS._cloneTemplate(),this.cloneEyeObject.setAttribute("width",this.options.size),this.cloneEyeObject.setAttribute("height",this.options.size),this.svgElements=this.cloneEyeObject.querySelectorAll("svg"),this.mainElement=this.cloneEyeObject.querySelector("[name=eye]"),this.eyeElement=this.cloneEyeObject.querySelector("[name=eye]"),this.eyeballElement=this.cloneEyeObject.querySelector("[name=eyeball]"),this.topElement=this.cloneEyeObject.querySelector("[name=top]"),this.bottomElement=this.cloneEyeObject.querySelector("[name=bottom]"),i=0;i<this.svgElements.length;i++)this.svgElements[i].setAttribute("width",this.options.size),this.svgElements[i].setAttribute("height",this.options.size);this.eyeElement.setAttribute("fill",this.options.color),this.eyeElement.setAttribute("stroke",this.options.borderColor),this.eyeElement.setAttribute("stroke-width",this.options.borderSize),this.topElement.setAttribute("fill",this.options.emoteColor),this.topElement.setAttribute("stroke",this.options.emoteBorderColor),this.topElement.setAttribute("stroke-width",this.options.emoteBorderSize),this.bottomElement.setAttribute("fill",this.options.emoteColor),this.bottomElement.setAttribute("stroke",this.options.emoteBorderColor),this.bottomElement.setAttribute("stroke-width",this.options.emoteBorderSize),this.eyeballElement.setAttribute("r",this.options.eyeballSize),this.eyeballElement.setAttribute("cx",parseInt(this.options.eyeballShift)+parseInt(this.eyeballElement.getAttribute("cx"))),document.body.appendChild(this.cloneEyeObject),this.moveToPosition(),this.cloneEyeObject.style.display="block"},d.prototype.moveToPosition=function(){this.move(this.options.x,this.options.y)},d.prototype.suspicion=function(a,b){var c=1e3,d=this.cloneEyeObject.getBoundingClientRect(),e=d.left+d.width/2,f=d.top+d.height/2,g=Math.pow(Math.pow(e-a,2)+Math.pow(f-b,2),.5),h=Math.PI/2;if(c>=g)var h=Math.PI/2-(1-g/c)*Math.PI/2*this.options.emoteSize;var i=60+50*Math.cos(-h),j=60+50*Math.sin(-h),k=i-60,l=60+(60-j),m="m"+i+","+j+"a50,50 1 0 0 "+2*-k+",0z";this.topElement.setAttribute("d",m);var n="m"+i+","+l+"a50,50 1 0 1 "+2*-k+",0z";this.bottomElement.setAttribute("d",n)},d.prototype.move=function(a,b){var c=this._element.getBoundingClientRect();this.cloneEyeObject.style.position="absolute",this.cloneEyeObject.style.left=c.left+a+"px",this.cloneEyeObject.style.top=c.top+b+"px"},d.prototype.render=function(a,b){var c=this.cloneEyeObject.getBoundingClientRect(),d=c.left+c.width/2,e=c.top+c.height/2,f=Math.pow(Math.pow(a-d,2)+Math.pow(b-e,2),.5);f<this.options.eyeballShift&&this.eyeballElement.setAttribute("cx",60+f);var g=Math.atan2(b-e,a-d)*(180/Math.PI);this.eyeballElement.setAttribute("transform","rotate("+g+", 60, 60)")},window.ParanoiaJS=new function(){var e=this;this._eyes=[],this.isInitialized=!1,this._listen=function(){window.addEventListener("mousemove",function(a){e._renderEyes(a.x,a.y)},!1),window.addEventListener("resize",function(a){e._resize()},!1)},this.add=function(a,b){e.isInitialized||e._init();var c=new d(a,b);return this._eyes.push(c),c._element.addEventListener("load",function(){e._resize()},!1),c},this.addPair=function(a,b){e.isInitialized||e._init();var c={},d=JSON.parse(JSON.stringify(b));d.x=d.x-d.l/2,delete d.l;var f=this.add(a,d);c.leftEye=f;var g=JSON.parse(JSON.stringify(b));g.x=g.x+g.l/2,delete d.l;var h=this.add(a,g);return c.rightEye=h,c},this.render=function(){e._resize()},this._renderEyes=function(a,b){for(var c in e._eyes)e._eyes[c].render(a,b),e._eyes[c].suspicion(a,b)},this._resize=function(){for(var a in e._eyes)e._eyes[a].moveToPosition()},this._init=function(d){e.templateObject=document.createElement("object"),e.templateObject.style.display="none",e.templateObject.style.position="absolute";var f=document.createElement("object");f.style.position="absolute",f.innerHTML=a,e.templateObject.appendChild(f);var g=document.createElement("object");g.style.position="absolute",g.innerHTML=b,e.templateObject.appendChild(g);var h=document.createElement("object");h.style.position="absolute",h.innerHTML=c,e.templateObject.appendChild(h),document.body.appendChild(e.templateObject),e._listen(),e.isInitialized=!0},this._cloneTemplate=function(){return e.templateObject.cloneNode(!0)}}}();